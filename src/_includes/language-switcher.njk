{# Language Switcher Component #}
{% set currentLang = lang or 'en' %}
{% set alternateLang = 'ja' if currentLang == 'en' else 'en' %}

{# Get current path without language prefix #}
{% set currentPath = page.url %}
{% set basePath = currentPath | replace('/en/', '/') | replace('/ja/', '/') %}

{# Build alternate URL #}
{% set alternateUrl = '/' + alternateLang + basePath %}

<div class="language-switcher">
  <a href="{{ alternateUrl }}" class="lang-switch" title="{% if alternateLang == 'ja' %}日本語に切り替える{% else %}Switch to English{% endif %}">
    <i class="fa fa-language"></i>
    <span>{{ 'EN' if alternateLang == 'en' else 'JA' }}</span>
  </a>
</div>
